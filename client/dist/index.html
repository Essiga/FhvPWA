<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="output.css">
    <title>Title</title>
</head>
<body>
<aside id="default-sidebar" class="fixed top-0 left-0 z-40 w-64 h-screen transition-transform -translate-x-full sm:translate-x-0" aria-label="Sidebar">
    <div class="h-full px-3 py-4 overflow-y-auto bg-gray-950 dark:bg-gray-800">
    <ul id="usersList" class="text-amber-50"></ul>
    </div>
</aside>
<div class="p-4 sm:ml-64 h-screen bg-slate-900">test123</div>

</body>
</html>

<script>
    async function getUserData(){
        const response = await fetch("http://127.0.0.1:5000/users");
        const users = await response.json();
        console.log(users);
        let usersList = document.getElementById("usersList");
        // for(i = 0; i < users.length; i++){
        //     let li = document.createElement('li');
        //     //li.innerText = users[i].fullname;
        //     li.classList.add("flex", "items-center");
        //
        //     const avatar = document.createElement('div');
        //     avatar.classList.add("avatar");
        //
        //     const div = document.createElement('div');
        //     div.classList.add("w-12", "rounded-full");
        //     div.innerHTML = `<img src="${users[i].image}" alt="${users[i].fullname}'s profile picture" />`;
        //
        //     const contentContainer = document.createElement("div");
        //     contentContainer.classList.add("flex-1");
        //
        //     const fullName = document.createElement("p");
        //     fullName.textContent = users[i].fullname;
        //     fullName.classList.add("text-center");
        //
        //     contentContainer.appendChild(fullName);
        //     //li.appendChild(avatar)
        //     li.appendChild(contentContainer)
        //
        //     avatar.appendChild(div);
        //     usersList.appendChild(avatar);
        //     usersList.appendChild(fullName);
        //
        // }
        users.forEach((user) => {
            const listItem = document.createElement("div");
            listItem.classList.add("p-4", "shadow-md", "flex", "items-center", "hover:bg-gray-800", "rounded-sm");

            const avatar = document.createElement('div');
            avatar.classList.add("avatar");

            const avatarImage = document.createElement("div");
            avatarImage.classList.add("w-12", "rounded-full", "mr-4");
            avatarImage.innerHTML = `<img src="${user.image}" alt="${user.fullname}'s profile picture" />`;

            const fullName = document.createElement("p");
            fullName.textContent = user.fullname;
            fullName.classList.add("text-center", "font-semibold");

            avatar.appendChild(avatarImage);
            listItem.appendChild(avatar);
            listItem.appendChild(fullName);

            usersList.appendChild(listItem);
        });
    }

    getUserData()
</script>